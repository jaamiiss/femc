<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div class="sveltekit-body">%sveltekit.body%</div>
		<script>
			// Intercept and remove SvelteKit announcer inline styles
			// This must run BEFORE SvelteKit hydrates to catch it early
			(function() {
				// Override Element.setAttribute globally for svelte-announcer
				const originalSetAttribute = Element.prototype.setAttribute;
				Element.prototype.setAttribute = function(name, value) {
					if (this.id === 'svelte-announcer' && name === 'style') {
						// Block inline styles on announcer element
						return;
					}
					return originalSetAttribute.call(this, name, value);
				};
				
				// Function to remove inline styles
				const removeStyles = () => {
					const announcer = document.getElementById('svelte-announcer');
					if (announcer && announcer.hasAttribute('style')) {
						announcer.removeAttribute('style');
					}
				};
				
				// Watch for announcer creation and immediately remove styles
				const observer = new MutationObserver((mutations) => {
					for (const mutation of mutations) {
						if (mutation.type === 'childList') {
							for (const node of mutation.addedNodes) {
								if (node.nodeType === 1 && node.id === 'svelte-announcer') {
									removeStyles();
									// Watch this specific element
									new MutationObserver(removeStyles).observe(node, {
										attributes: true,
										attributeFilter: ['style']
									});
								}
							}
						}
						if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
							removeStyles();
						}
					}
				});
				
				// Start watching immediately
				const startWatching = () => {
					removeStyles(); // Check if already exists
					observer.observe(document.body || document.documentElement, {
						childList: true,
						attributes: true,
						attributeFilter: ['style'],
						subtree: true
					});
				};
				
				// Run immediately if DOM ready, otherwise wait
				if (document.readyState === 'loading') {
					document.addEventListener('DOMContentLoaded', startWatching);
				} else {
					startWatching();
				}
				
				// Also poll aggressively as final fallback
				setInterval(removeStyles, 50);
			})();
		</script>
	</body>
</html>
